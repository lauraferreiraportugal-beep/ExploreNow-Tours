<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Book a Tour - ExploreNow Tours</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo"> ExploreNow Tours</div>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="tours.html">Tours</a></li>
        <li><a href="booking.html" class="active">Booking</a></li>
        <li><a href="faq.html">FAQ</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="booking-hero">
      <h1>Book Your Tour</h1>
      <p>Fill in the form below to reserve your next adventure with us!</p>
    </section>

    <section class="booking-form">
      <form id="booking-form" onsubmit="confirmBooking(event)" novalidate>
        <label for="name">Full Name</label>
        <input type="text" id="name" name="name" required placeholder="Ex.: John Doe">

        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" required placeholder="your@email.com">

        <label for="tour">Select a Tour</label>
        <select id="tour" name="tour" required>
          <option value="">-- Choose a tour --</option>
          <option value="city">City Explorer</option>
          <option value="nature">Nature Adventure</option>
          <option value="culture">Cultural Journey</option>
          <option value="nature">Mountain Expedition</option>
          <option value="beach">Beach Relaxation</option>
          <option value="culture">Historical Sites</option>
        </select>

        <label for="date">Preferred Date</label>
        <input type="date" id="date" name="date" required>

        <label for="message">Additional Notes (optional)</label>
        <textarea id="message" name="message" rows="3" placeholder="E.g., I need a guide in English"></textarea>

        <div class="form-actions">
          <button type="submit" class="btn">Book Now</button>
          <button type="reset" class="btn secondary">Clear</button>
        </div>
      </form>

      <!-- Confirmation message -->
      <div id="confirmation" class="confirmation" role="status" aria-live="polite" style="display:none"></div>
    </section>
  </main>

   <!-- FOOTER -->
   <footer>
    <p>&copy; | ExploreNow Tours | </p>
    <p>Contact: info@explorenow.com</p>
  </footer>

  <script>
    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    function confirmBooking(e) {
      e.preventDefault();
      const form = document.getElementById('booking-form');
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const name = document.getElementById('name').value.trim();
      const tourSelect = document.getElementById('tour');
      const tourLabel = tourSelect.options[tourSelect.selectedIndex].text;
      const dateValue = document.getElementById('date').value;
      const dateFormatted = dateValue ? new Date(dateValue).toLocaleDateString('en-GB', { day: '2-digit', month: 'long', year: 'numeric' }) : '';

      form.style.display = 'none';
      const conf = document.getElementById('confirmation');
      conf.innerHTML = `
        <h2>✅ Booking Confirmed!</h2>
        <p>Thank you, <strong>${escapeHtml(name)}</strong>! We have received your booking for <strong>${escapeHtml(tourLabel)}</strong>${dateFormatted ? ' on <strong>' + escapeHtml(dateFormatted) + '</strong>' : ''}.</p>
        <p>We will contact you shortly with more details.</p>

        <div class="confirmation-actions" style="margin-top:1rem">
          <a class="btn" href="index.html">⬅ Back to Home</a>
          <button id="new-booking" type="button" class="btn secondary" style="margin-left:0.6rem">Make Another Booking</button>
        </div>
      `;
      conf.style.display = 'block';

      document.getElementById('new-booking').addEventListener('click', function(){
        conf.style.display = 'none';
        form.reset();
        form.style.display = 'block';
        document.getElementById('name').focus();
      });
    }
  </script>
</body>
</html>
